var harmonisationItems=[],harmonisationColumns=[];$.getJSON("json/harmonisationItems.json",function(t){harmonisationItems=t,harmonisationColumns=createColumns(harmonisationItems),$(document).ready(function(){loadData(),$("#harmonisationFactors_filter").insertAfter($("#harmonisationItems_filter")),$("#harmonisationFactors_filter").show(),$("#harmonisationFactors").change(function(){this.value&&($("#harmonisationItems").DataTable().columns().search("").draw(),$("#harmonisationItems").DataTable().column(this.value).search(".+",!0,!1,!0).draw())})})}),createColumns=function(t){var e=[];e.push({title:"",data:null,defaultContent:"",class:"control",orderable:!1,searchable:!1}),e.push({title:"Cohort",data:"Cohort"}),e.push({title:"Participant age",data:"Participant age"}),e.push({title:"Age range",data:"Age range"}),e.push({title:"Measure",data:"Measure"}),e.push({title:"Developmental period",data:"Developmental period"}),e.push({title:"Reporter",data:"Reporter"}),t.forEach(function(t){t["Developmental period"]||(t["Developmental period"]="Adult"),t["Age range"]||(t["Age range"]="Childhood/Adolescence"),t.Reporter||(t.Reporter="Self"),Object.keys(t).forEach(function(t){t=t.replace(/\./g,"\\."),0==e.filter(e=>e.title===t).length&&e.push({title:t,data:t,class:"none",orderable:!1,defaultContent:""})})});let a=["","Cohort","Participant age","Age range","Measure","Developmental period","Reporter"];e=e.sort(function(t,e){if(a.indexOf(e.title)>-1||a.indexOf(t.title)>-1)return 0;switch(t.title.toUpperCase()>e.title.toUpperCase()){case!0:return 1;case!1:return-1;default:return 0}});for(let t=8;t<e.length;t++){let a=e[t].title.replace(/\\\./g,".");var n=document.createElement("option");n.textContent=a,n.value=t,document.getElementById("harmonisationFactors").appendChild(n)}return e},loadData=function(){$("#harmonisationItems").DataTable({data:harmonisationItems,responsive:{details:{type:"column",target:"tr"}},paging:!1,searchDelay:350,fixedHeader:{footer:!0},columns:harmonisationColumns,order:[1,"asc"]}),$("#harmonisationItems").dataTable().fnAdjustColumnSizing(),$("#harmonisationItems").dataTable().css("width","100%"),$("#harmonisationItems").DataTable().on("responsive-display",function(t,e,a,n,o){n&&$("li[data-dt-row='"+a.index()+"'] .dtr-data").each(function(){""==$(this).text()&&$(this).parent().hide()})})};